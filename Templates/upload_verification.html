<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document Upload</title>
    <link rel="stylesheet" href="/static/css/style.css">  <!-- Link to your CSS -->

    <!-- JavaScript for dd-mm-yyyy date validation -->
    <script>
        function validateDate() {
            var dob = document.getElementById("dob").value;
            var regex = /^\d{2}-\d{2}-\d{4}$/;

            if (!regex.test(dob)) {
                alert("Please enter the date in dd-mm-yyyy format.");
                return false;
            }

            var parts = dob.split("-");
            var day = parseInt(parts[0], 10);
            var month = parseInt(parts[1], 10) - 1; // JavaScript months are 0-based
            var year = parseInt(parts[2], 10);

            var dobDate = new Date(year, month, day);
            var currentYear = new Date().getFullYear();

            if (year > currentYear) {
                alert("The date of birth cannot be in the future.");
                return false;
            }

            if (year < 1900) {
                alert("Please enter a valid year (greater than 1900).");
                return false;
            }

            if (
                dobDate.getDate() !== day ||
                dobDate.getMonth() !== month ||
                dobDate.getFullYear() !== year
            ) {
                alert("Invalid date. Please enter a valid date.");
                return false;
            }

            return true;
        }
    </script>
</head>
<body>
    <div class="container">
        <h2>Upload Documents for Verification</h2>
        <form method="POST" enctype="multipart/form-data" onsubmit="return validateDate()">
            <!-- Government Issued ID Upload Field -->
            <label for="govt_id">Government Issued ID (e.g., Aadhar, Passport):</label>
            <input type="file" name="govt_id" id="govt_id" accept="image/*, .pdf" required>

            <!-- 12th Grade Marks Card Upload Field -->
            <label for="marks_card">12th Grade Marks Card:</label>
            <input type="file" name="marks_card" id="marks_card" accept="image/*, .pdf" required>

            <!-- Submit Button -->
            <button type="submit">Upload and Verify</button>

            <!-- Space to enter Name and DOB (below the button) -->
            <div>
                <label for="name">Full Name:</label>
                <input type="text" name="name" id="name" placeholder="Enter your full name" required>

                <label for="dob">Date of Birth (dd-mm-yyyy):</label>
                <input type="text" name="dob" id="dob" placeholder="dd-mm-yyyy" pattern="\d{2}-\d{2}-\d{4}" required>
            </div>
        </form>
    </div>
</body>
</html>
